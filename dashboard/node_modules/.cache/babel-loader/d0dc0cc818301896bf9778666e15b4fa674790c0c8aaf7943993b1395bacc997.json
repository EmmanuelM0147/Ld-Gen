{"ast":null,"code":"import _objectSpread from\"C:/Users/pc/LdPy/dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Download,Plus,Eye,Target,Building,MapPin,Mail,Phone,TrendingUp,CheckCircle,Clock,Edit,Tag}from'lucide-react';import{getLeads,updateLead,addTag,addNote,startLeadProspecting}from'../services/api';import{exportToCSV,exportToExcel}from'../utils/exportUtils';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LeadProspecting=()=>{const[leads,setLeads]=useState([]);const[loading,setLoading]=useState(true);const[prospectingLoading,setProspectingLoading]=useState(false);const[filters,setFilters]=useState({industry:'',companySize:'',location:'',status:'',qualityScore:'',source:''});const[selectedLead,setSelectedLead]=useState(null);const[showLeadModal,setShowLeadModal]=useState(false);const[showTagModal,setShowTagModal]=useState(false);const[showNoteModal,setShowNoteModal]=useState(false);const[showProspectingModal,setShowProspectingModal]=useState(false);const[prospectingForm,setProspectingForm]=useState({query:'',industry:'',location:'',companySize:'',maxResults:100,includeEmails:true,enrichData:true});// Predefined industry options\nconst industryOptions=['Technology','Healthcare','Finance','Manufacturing','Retail','Education','Real Estate','Consulting','Marketing','Legal','Construction','Transportation','Energy','Media','Non-profit','Government','Agriculture','Entertainment','Sports','Other'];// Predefined location options (major cities and countries)\nconst locationOptions=['United States','United Kingdom','Canada','Australia','Germany','France','Netherlands','Sweden','Switzerland','Singapore','Japan','South Korea','India','Brazil','Mexico','New York','Los Angeles','Chicago','Houston','Phoenix','Philadelphia','San Antonio','San Diego','Dallas','San Jose','London','Manchester','Birmingham','Leeds','Liverpool','Toronto','Vancouver','Montreal','Calgary','Ottawa','Sydney','Melbourne','Brisbane','Perth','Adelaide','Berlin','Munich','Hamburg','Cologne','Frankfurt','Paris','Lyon','Marseille','Toulouse','Nice','Amsterdam','Rotterdam','The Hague','Utrecht','Eindhoven'];// Company size options\nconst companySizeOptions=['1-10','11-50','51-200','201-500','501-1000','1001-5000','5000+'];// Source options\nconst sourceOptions=['Google','LinkedIn','Yellow Pages','Email Scraping','Manual Entry','Import','API'];useEffect(()=>{fetchLeads();},[]);const fetchLeads=async()=>{try{setLoading(true);const data=await getLeads();setLeads(data);}catch(error){toast.error('Failed to fetch leads');console.error('Error fetching leads:',error);}finally{setLoading(false);}};const handleProspectingSubmit=async e=>{e.preventDefault();setProspectingLoading(true);try{// Call the real API to start lead prospecting\nconst response=await startLeadProspecting(prospectingForm);toast.success('Lead prospecting started! This will run in the background.');setShowProspectingModal(false);setProspectingForm({query:'',industry:'',location:'',companySize:'',maxResults:100,includeEmails:true,enrichData:true});// Refresh leads after prospecting\nsetTimeout(()=>{fetchLeads();},3000);}catch(error){toast.error('Failed to start lead prospecting');console.error('Error:',error);}finally{setProspectingLoading(false);}};const filteredLeads=leads.filter(lead=>{var _lead$industry,_lead$company_size,_lead$address,_lead$city;if(filters.industry&&!((_lead$industry=lead.industry)!==null&&_lead$industry!==void 0&&_lead$industry.toLowerCase().includes(filters.industry.toLowerCase())))return false;if(filters.companySize&&!((_lead$company_size=lead.company_size)!==null&&_lead$company_size!==void 0&&_lead$company_size.toLowerCase().includes(filters.companySize.toLowerCase())))return false;if(filters.location&&!((_lead$address=lead.address)!==null&&_lead$address!==void 0&&_lead$address.toLowerCase().includes(filters.location.toLowerCase()))&&!((_lead$city=lead.city)!==null&&_lead$city!==void 0&&_lead$city.toLowerCase().includes(filters.location.toLowerCase())))return false;if(filters.status&&lead.status!==filters.status)return false;if(filters.source&&lead.source!==filters.source)return false;if(filters.qualityScore){const score=parseFloat(filters.qualityScore);if(filters.qualityScore.includes('>')&&(lead.quality_score||0)<=score)return false;if(filters.qualityScore.includes('<')&&(lead.quality_score||0)>=score)return false;}return true;});const handleViewLead=lead=>{setSelectedLead(lead);setShowLeadModal(true);};const handleEditLead=lead=>{setSelectedLead(lead);setShowLeadModal(true);};const handleAddTag=lead=>{setSelectedLead(lead);setShowTagModal(true);};const handleAddNote=lead=>{setSelectedLead(lead);setShowNoteModal(true);};const handleExport=format=>{if(format==='csv'){exportToCSV(filteredLeads,'prospected-leads');}else if(format==='excel'){exportToExcel(filteredLeads,'prospected-leads');}toast.success(\"Exported \".concat(filteredLeads.length,\" leads as \").concat(format.toUpperCase()));};const handleStatusChange=async(leadId,newStatus)=>{try{await updateLead(leadId,{status:newStatus});toast.success('Lead status updated successfully');fetchLeads();}catch(error){toast.error('Failed to update lead status');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Lead Prospecting\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Discover and generate new business leads from multiple sources\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProspectingModal(true),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-4 w-4 mr-2\"}),\"Start Prospecting\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Lead\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-blue-500\",children:/*#__PURE__*/_jsx(Target,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Prospects\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:leads.length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-green-500\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Qualified Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:leads.filter(lead=>(lead.quality_score||0)>=0.7).length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-yellow-500\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"New This Week\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:leads.filter(lead=>{const weekAgo=new Date();weekAgo.setDate(weekAgo.getDate()-7);return new Date(lead.created_at)>weekAgo;}).length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg bg-purple-500\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Avg Quality Score\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[leads.length>0?Math.round(leads.reduce((sum,lead)=>sum+(lead.quality_score||0),0)/leads.length*100):0,\"%\"]})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Industry\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.industry,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{industry:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Industries\"}),industryOptions.map(industry=>/*#__PURE__*/_jsx(\"option\",{value:industry,children:industry},industry))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Company Size\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.companySize,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{companySize:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Sizes\"}),companySizeOptions.map(size=>/*#__PURE__*/_jsxs(\"option\",{value:size,children:[size,\" employees\"]},size))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.location,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{location:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Locations\"}),locationOptions.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location,children:location},location))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"new\",children:\"New\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contacted\",children:\"Contacted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"interested\",children:\"Interested\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qualified\",children:\"Qualified\"}),/*#__PURE__*/_jsx(\"option\",{value:\"closed\",children:\"Closed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Source\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.source,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{source:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Sources\"}),sourceOptions.map(source=>/*#__PURE__*/_jsx(\"option\",{value:source,children:source},source))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Quality Score\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.qualityScore,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{qualityScore:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Scores\"}),/*#__PURE__*/_jsx(\"option\",{value:\">0.8\",children:\"High (>80%)\"}),/*#__PURE__*/_jsx(\"option\",{value:\">0.6\",children:\"Medium (>60%)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"<0.6\",children:\"Low (<60%)\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredLeads.length,\" of \",leads.length,\" prospects\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleExport('csv'),className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 mr-2\"}),\"Export CSV\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleExport('excel'),className:\"btn-secondary\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 mr-2\"}),\"Export Excel\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Contact Info\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Industry & Size\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quality Score\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredLeads.map(lead=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(Building,{className:\"h-5 w-5 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:lead.company_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:lead.website?new URL(lead.website).hostname:'N/A'})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[lead.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm\",children:[/*#__PURE__*/_jsx(Mail,{className:\"h-3 w-3 mr-1 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:lead.email})]}),lead.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm\",children:[/*#__PURE__*/_jsx(Phone,{className:\"h-3 w-3 mr-1 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:lead.phone})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:lead.industry||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:lead.company_size||'N/A'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-3 w-3 mr-1\"}),lead.city||lead.address||'N/A']})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat((lead.quality_score||0)>=0.8?'bg-green-500':(lead.quality_score||0)>=0.6?'bg-yellow-500':'bg-red-500'),style:{width:\"\".concat((lead.quality_score||0)*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[Math.round((lead.quality_score||0)*100),\"%\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(lead.status==='new'?'bg-blue-100 text-blue-800':lead.status==='contacted'?'bg-yellow-100 text-yellow-800':lead.status==='interested'?'bg-green-100 text-green-800':lead.status==='qualified'?'bg-purple-100 text-purple-800':'bg-gray-100 text-gray-800'),children:lead.status||'new'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewLead(lead),className:\"text-primary-600 hover:text-primary-900\",title:\"View Details\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditLead(lead),className:\"text-gray-600 hover:text-gray-900\",title:\"Edit Lead\",children:/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddTag(lead),className:\"text-gray-600 hover:text-gray-900\",title:\"Add Tag\",children:/*#__PURE__*/_jsx(Tag,{className:\"h-4 w-4\"})})]})})]},lead.id))})]})})}),showProspectingModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Start Lead Prospecting\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProspectingModal(false),className:\"text-gray-400 hover:text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleProspectingSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search Query\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:prospectingForm.query,onChange:e=>setProspectingForm(_objectSpread(_objectSpread({},prospectingForm),{},{query:e.target.value})),placeholder:\"e.g., software companies, healthcare startups\",className:\"input w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Industry\"}),/*#__PURE__*/_jsxs(\"select\",{value:prospectingForm.industry,onChange:e=>setProspectingForm(_objectSpread(_objectSpread({},prospectingForm),{},{industry:e.target.value})),className:\"input w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Industry\"}),industryOptions.map(industry=>/*#__PURE__*/_jsx(\"option\",{value:industry,children:industry},industry))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"select\",{value:prospectingForm.location,onChange:e=>setProspectingForm(_objectSpread(_objectSpread({},prospectingForm),{},{location:e.target.value})),className:\"input w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Location\"}),locationOptions.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location,children:location},location))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Company Size\"}),/*#__PURE__*/_jsxs(\"select\",{value:prospectingForm.companySize,onChange:e=>setProspectingForm(_objectSpread(_objectSpread({},prospectingForm),{},{companySize:e.target.value})),className:\"input w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Size\"}),companySizeOptions.map(size=>/*#__PURE__*/_jsxs(\"option\",{value:size,children:[size,\" employees\"]},size))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Max Results\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:prospectingForm.maxResults,onChange:e=>setProspectingForm(_objectSpread(_objectSpread({},prospectingForm),{},{maxResults:parseInt(e.target.value)})),min:\"10\",max:\"1000\",className:\"input w-full\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:prospectingForm.includeEmails,onChange:e=>setProspectingForm(_objectSpread(_objectSpread({},prospectingForm),{},{includeEmails:e.target.checked})),className:\"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Include email addresses\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:prospectingForm.enrichData,onChange:e=>setProspectingForm(_objectSpread(_objectSpread({},prospectingForm),{},{enrichData:e.target.checked})),className:\"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Enrich with additional data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowProspectingModal(false),className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:prospectingLoading,className:\"btn-primary\",children:prospectingLoading?'Starting...':'Start Prospecting'})]})]})]})}),showLeadModal&&selectedLead&&/*#__PURE__*/_jsx(LeadDetailModal,{lead:selectedLead,onClose:()=>setShowLeadModal(false),onUpdate:handleStatusChange,onAddNote:handleAddNote}),showTagModal&&selectedLead&&/*#__PURE__*/_jsx(TagModal,{lead:selectedLead,onClose:()=>setShowTagModal(false),onAddTag:addTag}),showNoteModal&&selectedLead&&/*#__PURE__*/_jsx(NoteModal,{lead:selectedLead,onClose:()=>setShowNoteModal(false),onAddNote:addNote})]});};// Lead Detail Modal Component\nconst LeadDetailModal=_ref=>{let{lead,onClose,onUpdate,onAddNote}=_ref;const[status,setStatus]=useState(lead.status||'new');const handleStatusUpdate=()=>{onUpdate(lead.id,status);onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Lead Details\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Company Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lead.company_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Industry\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lead.industry||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lead.email||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lead.phone||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Website\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lead.website?/*#__PURE__*/_jsx(\"a\",{href:lead.website,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-primary-600 hover:text-primary-800\",children:lead.website}):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lead.address||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),className:\"input w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"new\",children:\"New\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contacted\",children:\"Contacted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"interested\",children:\"Interested\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qualified\",children:\"Qualified\"}),/*#__PURE__*/_jsx(\"option\",{value:\"closed\",children:\"Closed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStatusUpdate,className:\"btn-primary\",children:\"Update Status\"})]})]})]})});};// Tag Modal Component\nconst TagModal=_ref2=>{let{lead,onClose,onAddTag}=_ref2;const[tag,setTag]=useState('');const handleSubmit=e=>{e.preventDefault();if(tag.trim()){onAddTag(lead.id,tag.trim());onClose();}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Add Tag\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tag,onChange:e=>setTag(e.target.value),placeholder:\"Enter tag name\",className:\"input\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Add Tag\"})]})]})]})});};// Note Modal Component\nconst NoteModal=_ref3=>{let{lead,onClose,onAddNote}=_ref3;const[note,setNote]=useState('');const handleSubmit=e=>{e.preventDefault();if(note.trim()){onAddNote(lead.id,note.trim());onClose();}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-700\",children:\"Add Note\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Note\"}),/*#__PURE__*/_jsx(\"textarea\",{value:note,onChange:e=>setNote(e.target.value),placeholder:\"Enter your note\",rows:4,className:\"input\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Add Note\"})]})]})]})});};export default LeadProspecting;","map":{"version":3,"names":["React","useState","useEffect","Download","Plus","Eye","Target","Building","MapPin","Mail","Phone","TrendingUp","CheckCircle","Clock","Edit","Tag","getLeads","updateLead","addTag","addNote","startLeadProspecting","exportToCSV","exportToExcel","toast","jsx","_jsx","jsxs","_jsxs","LeadProspecting","leads","setLeads","loading","setLoading","prospectingLoading","setProspectingLoading","filters","setFilters","industry","companySize","location","status","qualityScore","source","selectedLead","setSelectedLead","showLeadModal","setShowLeadModal","showTagModal","setShowTagModal","showNoteModal","setShowNoteModal","showProspectingModal","setShowProspectingModal","prospectingForm","setProspectingForm","query","maxResults","includeEmails","enrichData","industryOptions","locationOptions","companySizeOptions","sourceOptions","fetchLeads","data","error","console","handleProspectingSubmit","e","preventDefault","response","success","setTimeout","filteredLeads","filter","lead","_lead$industry","_lead$company_size","_lead$address","_lead$city","toLowerCase","includes","company_size","address","city","score","parseFloat","quality_score","handleViewLead","handleEditLead","handleAddTag","handleAddNote","handleExport","format","concat","length","toUpperCase","handleStatusChange","leadId","newStatus","className","children","onClick","weekAgo","Date","setDate","getDate","created_at","Math","round","reduce","sum","value","onChange","_objectSpread","target","map","size","company_name","website","URL","hostname","email","phone","style","width","title","id","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","type","placeholder","required","parseInt","min","max","checked","disabled","LeadDetailModal","onClose","onUpdate","onAddNote","TagModal","onAddTag","NoteModal","_ref","setStatus","handleStatusUpdate","href","rel","_ref2","tag","setTag","handleSubmit","trim","_ref3","note","setNote","rows"],"sources":["C:/Users/pc/LdPy/dashboard/src/pages/LeadProspecting.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Download, \r\n  Plus, \r\n  Eye, \r\n  Target,\r\n  Building,\r\n  MapPin,\r\n  Mail,\r\n  Phone,\r\n  TrendingUp,\r\n  CheckCircle,\r\n  Clock,\r\n  Edit,\r\n  Tag\r\n} from 'lucide-react';\r\nimport { getLeads, updateLead, addTag, addNote, startLeadProspecting } from '../services/api';\r\nimport { exportToCSV, exportToExcel } from '../utils/exportUtils';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst LeadProspecting = () => {\r\n  const [leads, setLeads] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [prospectingLoading, setProspectingLoading] = useState(false);\r\n  const [filters, setFilters] = useState({\r\n    industry: '',\r\n    companySize: '',\r\n    location: '',\r\n    status: '',\r\n    qualityScore: '',\r\n    source: ''\r\n  });\r\n  const [selectedLead, setSelectedLead] = useState(null);\r\n  const [showLeadModal, setShowLeadModal] = useState(false);\r\n  const [showTagModal, setShowTagModal] = useState(false);\r\n  const [showNoteModal, setShowNoteModal] = useState(false);\r\n  const [showProspectingModal, setShowProspectingModal] = useState(false);\r\n  const [prospectingForm, setProspectingForm] = useState({\r\n    query: '',\r\n    industry: '',\r\n    location: '',\r\n    companySize: '',\r\n    maxResults: 100,\r\n    includeEmails: true,\r\n    enrichData: true\r\n  });\r\n\r\n  // Predefined industry options\r\n  const industryOptions = [\r\n    'Technology',\r\n    'Healthcare',\r\n    'Finance',\r\n    'Manufacturing',\r\n    'Retail',\r\n    'Education',\r\n    'Real Estate',\r\n    'Consulting',\r\n    'Marketing',\r\n    'Legal',\r\n    'Construction',\r\n    'Transportation',\r\n    'Energy',\r\n    'Media',\r\n    'Non-profit',\r\n    'Government',\r\n    'Agriculture',\r\n    'Entertainment',\r\n    'Sports',\r\n    'Other'\r\n  ];\r\n\r\n  // Predefined location options (major cities and countries)\r\n  const locationOptions = [\r\n    'United States',\r\n    'United Kingdom',\r\n    'Canada',\r\n    'Australia',\r\n    'Germany',\r\n    'France',\r\n    'Netherlands',\r\n    'Sweden',\r\n    'Switzerland',\r\n    'Singapore',\r\n    'Japan',\r\n    'South Korea',\r\n    'India',\r\n    'Brazil',\r\n    'Mexico',\r\n    'New York',\r\n    'Los Angeles',\r\n    'Chicago',\r\n    'Houston',\r\n    'Phoenix',\r\n    'Philadelphia',\r\n    'San Antonio',\r\n    'San Diego',\r\n    'Dallas',\r\n    'San Jose',\r\n    'London',\r\n    'Manchester',\r\n    'Birmingham',\r\n    'Leeds',\r\n    'Liverpool',\r\n    'Toronto',\r\n    'Vancouver',\r\n    'Montreal',\r\n    'Calgary',\r\n    'Ottawa',\r\n    'Sydney',\r\n    'Melbourne',\r\n    'Brisbane',\r\n    'Perth',\r\n    'Adelaide',\r\n    'Berlin',\r\n    'Munich',\r\n    'Hamburg',\r\n    'Cologne',\r\n    'Frankfurt',\r\n    'Paris',\r\n    'Lyon',\r\n    'Marseille',\r\n    'Toulouse',\r\n    'Nice',\r\n    'Amsterdam',\r\n    'Rotterdam',\r\n    'The Hague',\r\n    'Utrecht',\r\n    'Eindhoven'\r\n  ];\r\n\r\n  // Company size options\r\n  const companySizeOptions = [\r\n    '1-10',\r\n    '11-50',\r\n    '51-200',\r\n    '201-500',\r\n    '501-1000',\r\n    '1001-5000',\r\n    '5000+'\r\n  ];\r\n\r\n  // Source options\r\n  const sourceOptions = [\r\n    'Google',\r\n    'LinkedIn',\r\n    'Yellow Pages',\r\n    'Email Scraping',\r\n    'Manual Entry',\r\n    'Import',\r\n    'API'\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchLeads();\r\n  }, []);\r\n\r\n  const fetchLeads = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await getLeads();\r\n      setLeads(data);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch leads');\r\n      console.error('Error fetching leads:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleProspectingSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setProspectingLoading(true);\r\n    \r\n    try {\r\n      // Call the real API to start lead prospecting\r\n      const response = await startLeadProspecting(prospectingForm);\r\n      \r\n      toast.success('Lead prospecting started! This will run in the background.');\r\n      \r\n      setShowProspectingModal(false);\r\n      setProspectingForm({\r\n        query: '',\r\n        industry: '',\r\n        location: '',\r\n        companySize: '',\r\n        maxResults: 100,\r\n        includeEmails: true,\r\n        enrichData: true\r\n      });\r\n      \r\n      // Refresh leads after prospecting\r\n      setTimeout(() => {\r\n        fetchLeads();\r\n      }, 3000);\r\n      \r\n    } catch (error) {\r\n      toast.error('Failed to start lead prospecting');\r\n      console.error('Error:', error);\r\n    } finally {\r\n      setProspectingLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredLeads = leads.filter(lead => {\r\n    if (filters.industry && !lead.industry?.toLowerCase().includes(filters.industry.toLowerCase())) return false;\r\n    if (filters.companySize && !lead.company_size?.toLowerCase().includes(filters.companySize.toLowerCase())) return false;\r\n    if (filters.location && !lead.address?.toLowerCase().includes(filters.location.toLowerCase()) && !lead.city?.toLowerCase().includes(filters.location.toLowerCase())) return false;\r\n    if (filters.status && lead.status !== filters.status) return false;\r\n    if (filters.source && lead.source !== filters.source) return false;\r\n    if (filters.qualityScore) {\r\n      const score = parseFloat(filters.qualityScore);\r\n      if (filters.qualityScore.includes('>') && (lead.quality_score || 0) <= score) return false;\r\n      if (filters.qualityScore.includes('<') && (lead.quality_score || 0) >= score) return false;\r\n    }\r\n    return true;\r\n  });\r\n\r\n  const handleViewLead = (lead) => {\r\n    setSelectedLead(lead);\r\n    setShowLeadModal(true);\r\n  };\r\n\r\n  const handleEditLead = (lead) => {\r\n    setSelectedLead(lead);\r\n    setShowLeadModal(true);\r\n  };\r\n\r\n  const handleAddTag = (lead) => {\r\n    setSelectedLead(lead);\r\n    setShowTagModal(true);\r\n  };\r\n\r\n  const handleAddNote = (lead) => {\r\n    setSelectedLead(lead);\r\n    setShowNoteModal(true);\r\n  };\r\n\r\n  const handleExport = (format) => {\r\n    if (format === 'csv') {\r\n      exportToCSV(filteredLeads, 'prospected-leads');\r\n    } else if (format === 'excel') {\r\n      exportToExcel(filteredLeads, 'prospected-leads');\r\n    }\r\n    toast.success(`Exported ${filteredLeads.length} leads as ${format.toUpperCase()}`);\r\n  };\r\n\r\n  const handleStatusChange = async (leadId, newStatus) => {\r\n    try {\r\n      await updateLead(leadId, { status: newStatus });\r\n      toast.success('Lead status updated successfully');\r\n      fetchLeads();\r\n    } catch (error) {\r\n      toast.error('Failed to update lead status');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-full\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"px-6 py-8\">\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Lead Prospecting</h1>\r\n            <p className=\"text-gray-600 mt-2\">Discover and generate new business leads from multiple sources</p>\r\n          </div>\r\n          <div className=\"flex space-x-3\">\r\n            <button \r\n              onClick={() => setShowProspectingModal(true)}\r\n              className=\"btn-primary\"\r\n            >\r\n              <Target className=\"h-4 w-4 mr-2\" />\r\n              Start Prospecting\r\n            </button>\r\n            <button className=\"btn-secondary\">\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Add Lead\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Prospecting Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n        <div className=\"card p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-lg bg-blue-500\">\r\n              <Target className=\"h-6 w-6 text-white\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Prospects</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">{leads.length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"card p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-lg bg-green-500\">\r\n              <CheckCircle className=\"h-6 w-6 text-white\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Qualified Leads</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {leads.filter(lead => (lead.quality_score || 0) >= 0.7).length}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"card p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-lg bg-yellow-500\">\r\n              <Clock className=\"h-6 w-6 text-white\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">New This Week</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {leads.filter(lead => {\r\n                  const weekAgo = new Date();\r\n                  weekAgo.setDate(weekAgo.getDate() - 7);\r\n                  return new Date(lead.created_at) > weekAgo;\r\n                }).length}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"card p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-lg bg-purple-500\">\r\n              <TrendingUp className=\"h-6 w-6 text-white\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Avg Quality Score</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {leads.length > 0 \r\n                  ? Math.round((leads.reduce((sum, lead) => sum + (lead.quality_score || 0), 0) / leads.length) * 100)\r\n                  : 0}%\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Advanced Filters */}\r\n      <div className=\"card p-6 mb-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Industry</label>\r\n            <select\r\n              value={filters.industry}\r\n              onChange={(e) => setFilters({ ...filters, industry: e.target.value })}\r\n              className=\"input\"\r\n            >\r\n              <option value=\"\">All Industries</option>\r\n              {industryOptions.map(industry => (\r\n                <option key={industry} value={industry}>{industry}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Company Size</label>\r\n            <select\r\n              value={filters.companySize}\r\n              onChange={(e) => setFilters({ ...filters, companySize: e.target.value })}\r\n              className=\"input\"\r\n            >\r\n              <option value=\"\">All Sizes</option>\r\n              {companySizeOptions.map(size => (\r\n                <option key={size} value={size}>{size} employees</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\r\n            <select\r\n              value={filters.location}\r\n              onChange={(e) => setFilters({ ...filters, location: e.target.value })}\r\n              className=\"input\"\r\n            >\r\n              <option value=\"\">All Locations</option>\r\n              {locationOptions.map(location => (\r\n                <option key={location} value={location}>{location}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n            <select\r\n              value={filters.status}\r\n              onChange={(e) => setFilters({ ...filters, status: e.target.value })}\r\n              className=\"input\"\r\n            >\r\n              <option value=\"\">All Statuses</option>\r\n              <option value=\"new\">New</option>\r\n              <option value=\"contacted\">Contacted</option>\r\n              <option value=\"interested\">Interested</option>\r\n              <option value=\"qualified\">Qualified</option>\r\n              <option value=\"closed\">Closed</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Source</label>\r\n            <select\r\n              value={filters.source}\r\n              onChange={(e) => setFilters({ ...filters, source: e.target.value })}\r\n              className=\"input\"\r\n            >\r\n              <option value=\"\">All Sources</option>\r\n              {sourceOptions.map(source => (\r\n                <option key={source} value={source}>{source}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Quality Score</label>\r\n            <select\r\n              value={filters.qualityScore}\r\n              onChange={(e) => setFilters({ ...filters, qualityScore: e.target.value })}\r\n              className=\"input\"\r\n            >\r\n              <option value=\"\">All Scores</option>\r\n              <option value=\">0.8\">High (&gt;80%)</option>\r\n              <option value=\">0.6\">Medium (&gt;60%)</option>\r\n              <option value=\"<0.6\">Low (&lt;60%)</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Export and Stats */}\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <div className=\"text-sm text-gray-600\">\r\n          Showing {filteredLeads.length} of {leads.length} prospects\r\n        </div>\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={() => handleExport('csv')}\r\n            className=\"btn-secondary\"\r\n          >\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export CSV\r\n          </button>\r\n          <button\r\n            onClick={() => handleExport('excel')}\r\n            className=\"btn-secondary\"\r\n          >\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export Excel\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Prospects Table */}\r\n      <div className=\"card overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Company\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Contact Info\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Industry & Size\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Location\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Quality Score\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {filteredLeads.map((lead) => (\r\n                <tr key={lead.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center mr-3\">\r\n                        <Building className=\"h-5 w-5 text-primary-600\" />\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-sm font-medium text-gray-900\">{lead.company_name}</div>\r\n                        <div className=\"text-sm text-gray-500\">{lead.website ? new URL(lead.website).hostname : 'N/A'}</div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"space-y-1\">\r\n                      {lead.email && (\r\n                        <div className=\"flex items-center text-sm\">\r\n                          <Mail className=\"h-3 w-3 mr-1 text-gray-400\" />\r\n                          <span className=\"text-gray-900\">{lead.email}</span>\r\n                        </div>\r\n                      )}\r\n                      {lead.phone && (\r\n                        <div className=\"flex items-center text-sm\">\r\n                          <Phone className=\"h-3 w-3 mr-1 text-gray-400\" />\r\n                          <span className=\"text-gray-600\">{lead.phone}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-gray-900\">{lead.industry || 'N/A'}</div>\r\n                    <div className=\"text-sm text-gray-500\">{lead.company_size || 'N/A'}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"flex items-center text-sm text-gray-600\">\r\n                      <MapPin className=\"h-3 w-3 mr-1\" />\r\n                      {lead.city || lead.address || 'N/A'}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\r\n                        <div \r\n                          className={`h-2 rounded-full ${\r\n                            (lead.quality_score || 0) >= 0.8 ? 'bg-green-500' : \r\n                            (lead.quality_score || 0) >= 0.6 ? 'bg-yellow-500' : 'bg-red-500'\r\n                          }`}\r\n                          style={{ width: `${((lead.quality_score || 0) * 100)}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"text-sm font-medium text-gray-900\">\r\n                        {Math.round((lead.quality_score || 0) * 100)}%\r\n                      </span>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                      lead.status === 'new' ? 'bg-blue-100 text-blue-800' :\r\n                      lead.status === 'contacted' ? 'bg-yellow-100 text-yellow-800' :\r\n                      lead.status === 'interested' ? 'bg-green-100 text-green-800' :\r\n                      lead.status === 'qualified' ? 'bg-purple-100 text-purple-800' :\r\n                      'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {lead.status || 'new'}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                    <div className=\"flex space-x-2\">\r\n                      <button\r\n                        onClick={() => handleViewLead(lead)}\r\n                        className=\"text-primary-600 hover:text-primary-900\"\r\n                        title=\"View Details\"\r\n                      >\r\n                        <Eye className=\"h-4 w-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleEditLead(lead)}\r\n                        className=\"text-gray-600 hover:text-gray-900\"\r\n                        title=\"Edit Lead\"\r\n                      >\r\n                        <Edit className=\"h-4 w-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleAddTag(lead)}\r\n                        className=\"text-gray-600 hover:text-gray-900\"\r\n                        title=\"Add Tag\"\r\n                      >\r\n                        <Tag className=\"h-4 w-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Lead Prospecting Modal */}\r\n      {showProspectingModal && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"text-lg font-medium text-gray-900\">Start Lead Prospecting</h3>\r\n              <button \r\n                onClick={() => setShowProspectingModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <span className=\"sr-only\">Close</span>\r\n                <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            \r\n            <form onSubmit={handleProspectingSubmit} className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search Query</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={prospectingForm.query}\r\n                  onChange={(e) => setProspectingForm({ ...prospectingForm, query: e.target.value })}\r\n                  placeholder=\"e.g., software companies, healthcare startups\"\r\n                  className=\"input w-full\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Industry</label>\r\n                  <select\r\n                    value={prospectingForm.industry}\r\n                    onChange={(e) => setProspectingForm({ ...prospectingForm, industry: e.target.value })}\r\n                    className=\"input w-full\"\r\n                  >\r\n                    <option value=\"\">Any Industry</option>\r\n                    {industryOptions.map(industry => (\r\n                      <option key={industry} value={industry}>{industry}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\r\n                  <select\r\n                    value={prospectingForm.location}\r\n                    onChange={(e) => setProspectingForm({ ...prospectingForm, location: e.target.value })}\r\n                    className=\"input w-full\"\r\n                  >\r\n                    <option value=\"\">Any Location</option>\r\n                    {locationOptions.map(location => (\r\n                      <option key={location} value={location}>{location}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Company Size</label>\r\n                  <select\r\n                    value={prospectingForm.companySize}\r\n                    onChange={(e) => setProspectingForm({ ...prospectingForm, companySize: e.target.value })}\r\n                    className=\"input w-full\"\r\n                  >\r\n                    <option value=\"\">Any Size</option>\r\n                    {companySizeOptions.map(size => (\r\n                      <option key={size} value={size}>{size} employees</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Results</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={prospectingForm.maxResults}\r\n                    onChange={(e) => setProspectingForm({ ...prospectingForm, maxResults: parseInt(e.target.value) })}\r\n                    min=\"10\"\r\n                    max=\"1000\"\r\n                    className=\"input w-full\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-2\">\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={prospectingForm.includeEmails}\r\n                    onChange={(e) => setProspectingForm({ ...prospectingForm, includeEmails: e.target.checked })}\r\n                    className=\"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50\"\r\n                  />\r\n                  <span className=\"ml-2 text-sm text-gray-700\">Include email addresses</span>\r\n                </label>\r\n                \r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={prospectingForm.enrichData}\r\n                    onChange={(e) => setProspectingForm({ ...prospectingForm, enrichData: e.target.checked })}\r\n                    className=\"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50\"\r\n                  />\r\n                  <span className=\"ml-2 text-sm text-gray-700\">Enrich with additional data</span>\r\n                </label>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end space-x-3 pt-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowProspectingModal(false)}\r\n                  className=\"btn-secondary\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={prospectingLoading}\r\n                  className=\"btn-primary\"\r\n                >\r\n                  {prospectingLoading ? 'Starting...' : 'Start Prospecting'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Lead Detail Modal */}\r\n      {showLeadModal && selectedLead && (\r\n        <LeadDetailModal\r\n          lead={selectedLead}\r\n          onClose={() => setShowLeadModal(false)}\r\n          onUpdate={handleStatusChange}\r\n          onAddNote={handleAddNote}\r\n        />\r\n      )}\r\n\r\n      {/* Tag Modal */}\r\n      {showTagModal && selectedLead && (\r\n        <TagModal\r\n          lead={selectedLead}\r\n          onClose={() => setShowTagModal(false)}\r\n          onAddTag={addTag}\r\n        />\r\n      )}\r\n\r\n      {/* Note Modal */}\r\n      {showNoteModal && selectedLead && (\r\n        <NoteModal\r\n          lead={selectedLead}\r\n          onClose={() => setShowNoteModal(false)}\r\n          onAddNote={addNote}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Lead Detail Modal Component\r\nconst LeadDetailModal = ({ lead, onClose, onUpdate, onAddNote }) => {\r\n  const [status, setStatus] = useState(lead.status || 'new');\r\n\r\n  const handleStatusUpdate = () => {\r\n    onUpdate(lead.id, status);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Lead Details</h3>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\r\n            <span className=\"sr-only\">Close</span>\r\n            <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Company Name</label>\r\n              <p className=\"text-sm text-gray-900\">{lead.company_name}</p>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Industry</label>\r\n              <p className=\"text-sm text-gray-900\">{lead.industry || 'N/A'}</p>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Email</label>\r\n              <p className=\"text-sm text-gray-900\">{lead.email || 'N/A'}</p>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Phone</label>\r\n              <p className=\"text-sm text-gray-900\">{lead.phone || 'N/A'}</p>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Website</label>\r\n              <p className=\"text-sm text-gray-900\">\r\n                {lead.website ? (\r\n                  <a href={lead.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary-600 hover:text-primary-800\">\r\n                    {lead.website}\r\n                  </a>\r\n                ) : 'N/A'}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Address</label>\r\n              <p className=\"text-sm text-gray-900\">{lead.address || 'N/A'}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n            <select\r\n              value={status}\r\n              onChange={(e) => setStatus(e.target.value)}\r\n              className=\"input w-full\"\r\n            >\r\n              <option value=\"new\">New</option>\r\n              <option value=\"contacted\">Contacted</option>\r\n              <option value=\"interested\">Interested</option>\r\n              <option value=\"qualified\">Qualified</option>\r\n              <option value=\"closed\">Closed</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button onClick={onClose} className=\"btn-secondary\">\r\n              Cancel\r\n            </button>\r\n            <button onClick={handleStatusUpdate} className=\"btn-primary\">\r\n              Update Status\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n// Tag Modal Component\r\nconst TagModal = ({ lead, onClose, onAddTag }) => {\r\n  const [tag, setTag] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (tag.trim()) {\r\n      onAddTag(lead.id, tag.trim());\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Add Tag</h3>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\r\n            <span className=\"sr-only\">Close</span>\r\n            <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Tag</label>\r\n            <input\r\n              type=\"text\"\r\n              value={tag}\r\n              onChange={(e) => setTag(e.target.value)}\r\n              placeholder=\"Enter tag name\"\r\n              className=\"input\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button type=\"button\" onClick={onClose} className=\"btn-secondary\">\r\n              Cancel\r\n            </button>\r\n            <button type=\"submit\" className=\"btn-primary\">\r\n              Add Tag\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Note Modal Component\r\nconst NoteModal = ({ lead, onClose, onAddNote }) => {\r\n  const [note, setNote] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (note.trim()) {\r\n      onAddNote(lead.id, note.trim());\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-medium text-gray-700\">Add Note</h3>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\r\n            <span className=\"sr-only\">Close</span>\r\n            <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Note</label>\r\n            <textarea\r\n              value={note}\r\n              onChange={(e) => setNote(e.target.value)}\r\n              placeholder=\"Enter your note\"\r\n              rows={4}\r\n              className=\"input\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button type=\"button\" onClick={onClose} className=\"btn-secondary\">\r\n              Cancel\r\n            </button>\r\n            <button type=\"submit\" className=\"btn-primary\">\r\n              Add Note\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeadProspecting;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}